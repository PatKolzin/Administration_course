# Домашнее задание к занятию 1. «Типы и структура СУБД»


## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

1. электронные чеки в json-виде

>Документо-ориентированные базы данных - документы хранятся в JSON формате.

2. склады и автомобильные дороги для логистической компании
```
Графовые базы данных - подойдёт для описания между логистическими узлами, а дороги в виде рёбер.
```
3. генеалогические деревья
```
Сетевая БД - у потомка может быть несколько связей с несколькими родителями.
```
4. кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
```
БД формата "ключ-значение" - обеспечивает быструю скорость чтения из RAM, можно задать срок жизни для каждой записи.
```
5. отношения клиент-покупка для интернет-магазина
```
Реляционная БД - множество записей о клиентах имеют множество связей с товарами и их свойствами.
```


## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись)
```
AP, PA-EL
```
- при сетевых сбоях система может разделиться на 2 раздельных кластера
```
CA, EL-PC
```
- система может не прислать корректный ответ или сбросить соединение
```
CP, PA-EC
```

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

```
Не могут, т.к. принципы противоречат друг другу.
BASE ориентирован на производительность системы (доступность),
ACID на сохранность данных (стойкость к разделению и сохранность данных).
```

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?

```
Наиболее подходящим решением в данной ситуации будет NoSQL СУБД Redis. 
Redis - это key-value хранилище, имеет механизм Pub/Sub и TTL (ограничение времени жизни для хранимых значений).
Используется для реализации отдельных функций системы, таких как:
- брокер сообщений (используя PUB/SUB)
- для хранения промежуточных данных
- для кэширования данных из основного хранилища, что значительно снижает нагрузку на реляционную базу данных
- для хранения быстрых данных

Минусы Redis:
- все данные хранятся в ОЗУ, поэтому работа ограничена объемом ОЗУ
- один экземпляр Redis работает на одном ядре в однопоточном режиме 
- не поддерживает язык SQL, что ограничивает гибкость в поиске по данным или выборке
- при аварийной остановке сервера будут потеряны данные, сохранятся данные с последней синхронизации с диска
- базовая безопасность с точки зрения прав доступа пользователей
```

---
