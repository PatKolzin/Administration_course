# Домашнее задание к занятию «Компьютерные сети. Лекция 2»


## Задание

**1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?**

![image](https://user-images.githubusercontent.com/75835363/229886466-1c755718-82c0-4ede-9f55-96b38b912f23.png)

![image](https://user-images.githubusercontent.com/75835363/229887038-05e2ef54-d2e8-4549-af63-027818b8b74c.png)



**2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?**

*Протоколы обнаружения канального уровня:*
*LLDP (Link Layer Discovery Protocol)*

*В Linux используется пакет lldpd*

Пример выполнения команды поиска соседей

![image](https://user-images.githubusercontent.com/75835363/229890465-8630cfb6-ae82-483b-8529-ed6753a6f24b.png)



**3. Какая технология используется для разделения L2-коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.**

*Используется технология VLAN стандарта IEEE 802.1Q*

*Используются пакеты iproute2, NetworkManager, vconfig, vlan.*

![image](https://user-images.githubusercontent.com/75835363/229892718-2f4ab38f-4a1e-4900-b3da-580c1dc0a4cb.png)

*пример конфигурационного файла vlan*

![image](https://user-images.githubusercontent.com/75835363/229896669-f537f976-315d-4177-9baf-8b8a913cd84f.png)



**4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.**

*Режимы агрегации интерфейсов в Linux:*

+ **Mode-0(balance-rr)** – Данный режим используется по умолчанию. Balance-rr обеспечивается **балансировку нагрузки** и отказоустойчивость. В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему. Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся. Дополнительной настройки коммутатора не требуется при нахождении портов в одном коммутаторе. При разностных коммутаторах требуется дополнительная настройка.

+ **Mode-1(active-backup)** – Один из интерфейсов работает в активном режиме, остальные в ожидающем. При обнаружении проблемы на активном интерфейсе производится переключение на ожидающий интерфейс. Не требуется поддержки от коммутатора.

+ **Mode-2(balance-xor)** – Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов. Режим дает **балансировку нагрузки** и отказоустойчивость. Не требуется дополнительной настройки коммутатора/коммутаторов.

+ **Mode-3(broadcast)** – Происходит передача во все объединенные интерфейсы, тем самым обеспечивая отказоустойчивость. Рекомендуется только для использования MULTICAST трафика.

+ **Mode-4(802.3ad)** – динамическое объединение одинаковых портов. В данном режиме можно значительно увеличить пропускную способность входящего так и исходящего трафика. Для данного режима необходима поддержка и настройка коммутатора/коммутаторов.

+ **Mode-5(balance-tlb)** – Адаптивная **балансировки нагрузки** трафика. Входящий трафик получается только активным интерфейсом, исходящий распределяется в зависимости от текущей загрузки канала каждого интерфейса. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.

+ **Mode-6(balance-alb)** – Адаптивная **балансировка нагрузки**. Отличается более совершенным алгоритмом балансировки нагрузки чем Mode-5). Обеспечивается балансировку нагрузки как исходящего, так и входящего трафика. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.
</i>

*[Пример конфигурационного файла /etc/network/interfaces:]*

```
auto bond0
iface bond0 inet static
    bond-slaves wlan0 eth0
    bond-mode active-backup
    bond-primary eth0
    bond-miimon 100
    address <ipv4address>/<maskbits>
    gateway <ipv4address>

allow-bond0 eth0
iface eth0 inet manual

allow-bond0 wlan0
iface wlan0 inet manual
#    bond-give-a-chance 10
    wpa-bridge bond0
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

```



**5. Сколько IP-адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.**

*В сети с маской /29 всего 8 IP адресов. Из них доступны для устройств - 6. Один адрес используется для сети и еще один для широковещательного запроса.*

*Из сети /24 можно получить 32 подсети /29.*

![image](https://user-images.githubusercontent.com/75835363/229900349-7a1eb73b-5fa1-411a-abe2-8145c20ddd80.png)



**6. Задача: вас попросили организовать стык между двумя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP-адреса? Маску выберите из расчёта — максимум 40–50 хостов внутри подсети.**

*100.64.0.0/10 - частная подсеть (Carrier-Grade NAT). Взял бы подсеть 100.64.0.0/26 - 62 доступных хоста, подсеть 100.64.0.0/27 - 30 хостов, что явно мало, 100.64.0.0/25 - 126 хостов, является избыточной подсетью для нашей задачи.*

![image](https://user-images.githubusercontent.com/75835363/229900806-d6650ad4-28d5-4b35-b2fb-27fada0d8b8c.png)



**7. Как проверить ARP-таблицу в Linux, Windows? Как очистить ARP-кеш полностью? Как из ARP-таблицы удалить только один нужный IP?**

**Ubuntu**

*ip neighbour show - показать ARP таблицу*

*ip neighbour del [ip address] dev [interface] - удалить из ARP таблицы конкретный адрес*

*ip neighbour flush all - очищает таблицу ARP*

![image](https://user-images.githubusercontent.com/75835363/229902395-b410df71-ff57-4d23-8da5-92d07be0f89c.png)


**Windows**

*arp -a - показать ARP таблицу*

*arp -d * - очистить таблицу ARP*

*arp -d [ip address] - удалить из ARP таблицы конкретный адрес*

![image](https://user-images.githubusercontent.com/75835363/229905564-6f350ccb-d8e8-41a5-9997-c5793d6c0a59.png)

